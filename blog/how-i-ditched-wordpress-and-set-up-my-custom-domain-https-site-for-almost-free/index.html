<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><meta name=description content="Victoria Drake is a security-focused senior software developer. She builds open source automation tools, and tech that helps humans stay safe on the Internet."><title>How I ditched WordPress and set up my custom domain HTTPS site for (almost) free | victoria.dev</title><meta property="og:title" content="How I ditched WordPress and set up my custom domain HTTPS site for (almost) free - victoria.dev"><meta property="og:type" content="website"><meta property="og:description" content="A guide (for the minimally tech-savvy) to setting up a website with HTTPS using Hugo, Cloudflare and GitHub Pages."><meta property="og:url" content="https://victoria.dev/blog/how-i-ditched-wordpress-and-set-up-my-custom-domain-https-site-for-almost-free/"><meta property="og:site_name" content="victoria.dev"><meta property="og:image" content="https://victoria.dev/blog/how-i-ditched-wordpress-and-set-up-my-custom-domain-https-site-for-almost-free/cover_free-https.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="How I ditched WordPress and set up my custom domain HTTPS site for (almost) free"><meta name=twitter:image content="https://victoria.dev/blog/how-i-ditched-wordpress-and-set-up-my-custom-domain-https-site-for-almost-free/cover_free-https.png"><meta name=twitter:description content="A guide (for the minimally tech-savvy) to setting up a website with HTTPS using Hugo, Cloudflare and GitHub Pages."><link rel="shortcut icon" href=/img/logo.ico><link rel=stylesheet href=/css/main.min.9cebb2904fa275342e486c117871d39d8ec4ca20509c8af37c288e2fd86b3f14.css integrity="sha256-nOuykE+idTQuSGwReHHTnY7EyiBQnIrzfCiOL9hrPxQ=" media=screen></head><body><section id=main><div class=header><div class=toggle><input type=checkbox>
<span class=bar></span><span class=bar></span><span class=bar></span><div id=mobile-menu><span class=menu-item><a href=/>üë©üèª‚Äçüíª hi</a></span>
<span class=menu-item><a href=/blog/>üì∞ blog</a></span>
<span class=menu-item><a href=/about/>üìñ readme</a></span>
<span class=menu-item><a href=/coffee/><img src=/coffee/cup.png alt="coffee icon" height=16px> contribute</a></span></div></div><div id=menu><span class=menu-item><a href=/>üë©üèª‚Äçüíª hi</a></span>
<span class=menu-item><a href=/blog/>üì∞ blog</a></span>
<span class=menu-item><a href=/about/>üìñ readme</a></span>
<span class=menu-item><a href=/coffee/><img src=/coffee/cup.png alt="coffee icon" height=16px> contribute</a></span></div><div id=logo><img id=up alt="site logo" src=/img/logo.png></div></div><div class=container><div id=images><img src=https://victoria.dev/blog/how-i-ditched-wordpress-and-set-up-my-custom-domain-https-site-for-almost-free/cover_free-https.png alt="cover image"></div><div class=markdown><h1>How I ditched WordPress and set up my custom domain HTTPS site for (almost) free</h1><p class=subtitle>A guide (for the minimally tech-savvy) to setting up a website with HTTPS using Hugo, Cloudflare and GitHub Pages.</p><p class=metadata id=date>January 28, 2017
‚òïÔ∏è‚òïÔ∏è&nbsp;
6 min read
&nbsp;
<a class=li-tag href=/tags/websites/>websites
</a>&nbsp;</p></div><div class=page-separator><hr></div><div class=markdown><p>I got annoyed with WordPress.com. While using the service has its pros (like https and a mobile responsive website, and being very visual and beginner-friendly) it&rsquo;s limiting. For someone who&rsquo;s comfortable enough to be tweaking CSS but who&rsquo;s not interested in creating their own theme (or paying upwards of $50 for one), I felt I wasn&rsquo;t really the type of consumer WordPress.com was suited to.</p><p>To start with, if you want to remove WordPress advertising and use a custom domain name, it&rsquo;s a minimum of $3 per month. If, like me, the free themes provided aren&rsquo;t just what you&rsquo;re looking for, you&rsquo;re stuck with two choices: buy a theme for $50+, or pay $8.25 per month to do <em>some</em> css customization. I don&rsquo;t know about you, but I feel like there should be a hack for this.</p><h1 id=how-i-ditched-wordpress-and-got-everything-i-wanted-for-free>How I ditched WordPress and got everything I wanted for free</h1><p>Okay, <em>almost</em> free. You still have to pay <a href="https://www.namecheap.com/promos/2016/crazy-88.aspx?aff=109417">at least $0.88</a> for a domain name.</p><p>For those of you technical enough to skip reading a long post, the recipe is this:</p><ol><li><a href="https://www.namecheap.com/?aff=109417">Buy a custom domain via this Namecheap affiliate link</a> (Thanks! :))</li><li>Install <a href=https://www.gohugo.io/>Hugo</a>, my favorite static site generator</li><li>Host with <a href=https://pages.github.com/>GitHub Pages</a></li><li>Put your <a href=https://help.github.com/articles/setting-up-an-apex-domain/#configuring-an-alias-or-aname-record-with-your-dns-provider>custom domain to work with GitHub Pages</a></li><li><del>Use Cloudflare&rsquo;s free plan</del> <a href=#5-enforce-https-for-github-pages>Enforce HTTPS for GitHub Pages</a></li></ol><p>Let&rsquo;s do the nitty gritty:</p><h2 id=1-buy-a-custom-domain>1. Buy a custom domain</h2><p>This one&rsquo;s pretty simple. Head on over to <a href="https://www.namecheap.com/?aff=109417">Namecheap</a>, <a href=https://www.gandi.net>Gandi</a>, or if you&rsquo;re rolling in dough, <a href=https://www.godaddy.com/>GoDaddy</a>. Find your perfect web address and buy it up.</p><p>If it&rsquo;s a <a href="https://www.namecheap.com/domains/personal.aspx?aff=109417">personal domain</a> like <em>yourname.com,</em> it&rsquo;s a pretty good idea to pay upfront for five years or even ten years, if you&rsquo;ve got the cash. It&rsquo;ll save you the trouble of remembering to renew, allow you to build your personal brand, and prevent someone else from buying up your URL.</p><p>If you&rsquo;re just trying out an idea, you can go with a one-year <a href="https://www.namecheap.com/promos/2016/crazy-88.aspx?aff=109417">$0.88 domain</a>. After the ICANN fee, it&rsquo;ll cost you a whopping $1.06. Namecheap also gives you WhoisGuard (domain registration privacy) free for one year.</p><h2 id=2-install-hugo>2. Install Hugo</h2><p>I&rsquo;m a big fan of <a href=https://www.gohugo.io/>Hugo</a> so far. Admittedly, those who feel more comfortable with a visual, WYSIWYG editor may feel like a fish out of water at first. As long as you&rsquo;re not afraid of using command line, though, using Hugo is pretty straightforward. The fact that I have access to all my code is my favorite part. It&rsquo;s only as simple or complicated as I want it to be.</p><p>Hugo is open source and free. They&rsquo;ve got great documentation, and following their <a href=https://gohugo.io/overview/quickstart/>Quickstart guide</a> line-by-line will get you set up with your new site in minutes.</p><p>If you&rsquo;re not used to the idea of your site existing as files and folders, the basic premise is this: Hugo, along with the themes available, helps you to create all the pages and files that your site needs to run. Blog posts can be written in Markdown and saved in your <code>/content/blog/</code> folder; preferences for your site and theme can be set in the <code>config.toml</code> file. After that, generating all your site&rsquo;s pages is as quick and easy as typing the command <code>hugo --theme=&lt;your theme></code>. You&rsquo;ll be able to see a live version of your site in your browser as you&rsquo;re editing it (go to <a href=http://localhost:1313/>http://localhost:1313/</a> in your browser, as described in Step 5) so you&rsquo;re not flying blind.</p><p>Confused? Ask me on Twitter <a href=https://twitter.com/victoriadotdev>@victoriadotdev</a> and I&rsquo;ll help you out!</p><h2 id=3-host-with-github-pages>3. Host with GitHub Pages</h2><p>If you read to Step 12 of Hugo&rsquo;s Quickstart Guide, you&rsquo;ll see that they even provided instructions for hosting your files on GitHub pages. If you&rsquo;re new to Git, you&rsquo;ll first need to <a href=https://github.com/>sign up at GitHub</a> and then <a href=https://help.github.com/articles/set-up-git/>set up Git</a>. GitHub is a very friendly resource, and you can find a multitude of code examples and guides in connection with it. The <a href=https://guides.github.com/activities/hello-world/>Hello World Guide</a> will take you through all you need to know to use GitHub.com.</p><p>Once you&rsquo;re comfortable with the way GitHub works generally, setting up a site by following <a href=https://pages.github.com/>the guide on GitHub Pages</a> is no big deal. If you followed the Hugo Quickstart Guide up to Step 11, you&rsquo;ll want to jump to Step 12 after creating the repository on GitHub.</p><p>In case it&rsquo;s not clear, once you set up your new repository on GitHub called <em>yourusername</em>.github.io, grab the HTTPS link at the top. From there it&rsquo;s just a few simple commands to create the git repository for your site and push it to your new web address:</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh><span class=c1># from yoursite/public folder:</span>
$ git init
$ git remote add origin &lt;paste that https url here!&gt;
$ git add --all
$ git commit -m <span class=s2>&#34;Initial commit.&#34;</span>
$ git push origin master
</code></pre></div><p>Have a little celebration - your site is already up at <code>https://yourusername.github.io</code>! Now for the pizza-de-resilience: the custom domain.</p><h2 id=4-point-your-custom-domain-to-github-pages>4. Point your custom domain to GitHub Pages</h2><p>To set up your site at apex (meaning <code>yourname.com</code> will replace <code>yourusername.github.io</code>), there&rsquo;s just four steps:</p><ol><li><a href=https://help.github.com/articles/adding-or-removing-a-custom-domain-for-your-github-pages-site/>Add your domain to your GitHub Pages site repository</a></li><li>In your domain registrar&rsquo;s DNS settings, <a href=https://help.github.com/articles/setting-up-an-apex-domain/#configuring-a-records-with-your-dns-provider>create A records pointing to GitHub&rsquo;s IP addresses</a></li><li>In your domain registrar&rsquo;s DNS settings, create a CNAME record pointing to <code>yourusername.github.io</code></li><li>Make sure there&rsquo;s a CNAME file in the root directory of your GitHub repository containing <code>yourname.com</code> (your custom domain)</li></ol><h2 id=5-enforce-https-for-github-pages>5. Enforce HTTPS for GitHub Pages</h2><p><em>May 15, 2018 edit:</em> <a href=https://blog.github.com/2018-05-01-github-pages-custom-domains-https/>GitHub Pages now support HTTPS</a> through a partnership with <a href=https://letsencrypt.org/>Let&rsquo;s Encrypt</a>! This is welcome news and greatly simplifies the process of serving your site securely. Just look for this clever checkbox in the Settings of your site&rsquo;s GitHub repository.</p><p><img src=custom-domain-https.png#screenshot alt="Enforce HTTPS checkbox"></p><p>The below section is left here to show how far we&rsquo;ve come. :)</p><h2 id=5-get-https-with-cloudflare><del>5. Get HTTPS with Cloudflare</del></h2><p><em>Why do I need a SSL certificate anyway?</em> For one, it&rsquo;ll <a href=http://searchengineland.com/google-starts-giving-ranking-boost-secure-httpsssl-sites-199446/>give your site a little boost on Google</a>.</p><p><a href=https://www.cloudflare.com/>Sign up with Cloudflare</a> and follow their set up guide. The site will collect your custom domain&rsquo;s DNS settings and set everything up automagically. Once the set up is complete, Cloudflare provides you with two new nameserver addresses. Go to your domain registrar&rsquo;s DNS settings and change the Domain Name Servers to the ones Cloudflare gives you.</p><p>In your <code>config.toml</code>, <code>config.yaml</code>, or <code>config.json</code> file, ensure these lines are present:</p><div class=highlight><pre class=chroma><code class=language-toml data-lang=toml><span class=nx>baseURL</span> <span class=p>=</span> <span class=s2>&#34;https://yourname.com/&#34;</span>
<span class=nx>canonifyURLs</span> <span class=p>=</span> <span class=kc>true</span>
<span class=nx>enforce_ssl</span> <span class=p>=</span> <span class=nx>www</span><span class=p>.</span><span class=nx>yoursite</span><span class=p>.</span><span class=nx>com</span>
</code></pre></div><p>To redirect users to HTTPS, add this script to the top of your <code>&lt;head></code> file:</p><div class=highlight><pre class=chroma><code class=language-html data-lang=html><span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span><span class=p></span><span class=p>&gt;</span>
    <span class=kd>var</span> <span class=nx>host</span> <span class=o>=</span> <span class=s2>&#34;yourname.com&#34;</span><span class=p>;</span>
    <span class=k>if</span> <span class=p>(</span><span class=p>(</span><span class=nx>host</span> <span class=o>==</span> <span class=nb>window</span><span class=p>.</span><span class=nx>location</span><span class=p>.</span><span class=nx>host</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=p>(</span><span class=nb>window</span><span class=p>.</span><span class=nx>location</span><span class=p>.</span><span class=nx>protocol</span> <span class=o>!=</span> <span class=s2>&#34;https:&#34;</span><span class=p>)</span><span class=p>)</span>
        <span class=nb>window</span><span class=p>.</span><span class=nx>location</span><span class=p>.</span><span class=nx>protocol</span> <span class=o>=</span> <span class=s2>&#34;https&#34;</span><span class=p>;</span>
<span class=p>&lt;</span><span class=p>/</span><span class=nt>script</span><span class=p>&gt;</span>
</code></pre></div><p>That&rsquo;s pretty much it! In a couple hours or so, your site will be up and running at <code>https://yourname.com</code>.</p><p>Thanks for reading!</p></div><div class=page-separator><hr></div><div class=related><div class="markdown highlight"><pre class=chroma><code class=language-sql data-lang=sql>SELECT TOP 3 * FROM related;</code></pre></div><ul id=list-items><li><a class=li-link href=https://victoria.dev/blog/hosting-your-static-site-with-aws-s3-route-53-and-cloudfront/>Hosting your static site with AWS S3, Route 53, and CloudFront</a><p class=li-brief>A guide to using Amazon Web Services to serve your site with HTTPS. For (almost) free.</p><p class=metadata><a class=li-tag href=/tags/aws/>aws</a>
‚òïÔ∏è‚òïÔ∏è&nbsp;
7 min read</p></li><li><a class=li-link href=https://victoria.dev/blog/publishing-github-event-data-with-github-actions-and-pages/>Publishing GitHub event data with GitHub Actions and Pages</a><p class=li-brief>A guide to overcoming the GitHub event data horizon with a little command-line magic.</p><p class=metadata><a class=li-tag href=/tags/data/>data</a>
‚òïÔ∏è‚òïÔ∏è&nbsp;
8 min read</p></li><li><a class=li-link href=https://victoria.dev/blog/a-lightweight-tool-agnostic-ci/cd-flow-with-github-actions/>A lightweight, tool-agnostic CI/CD flow with GitHub Actions</a><p class=li-brief>How to take advantage of a simple GitHub Actions workflow without sacrificing agnostic tooling.</p><p class=metadata><a class=li-tag href=/tags/ci/cd/>ci/cd</a>
‚òïÔ∏è&nbsp;
5 min read</p></li></ul><div class=page-separator><p class=back-link><a href=/blog>&lt;&lt; Back to blog</a></p></div></div></div><div class=container><footer><div class=markdown><figure class=profile><img src=/img/victoria_headshot.jpg alt="Victoria's headshot"></figure><p>Victoria Drake is a security-focused senior software developer in Washington, DC. She writes about software development, cybersecurity, and information security awareness. She is a co-author and maintainer of the OWASP Web Security Testing Guide, and a twice-awarded top annual contributor to freeCodeCamp.</p><p><a href=/about>about</a> - <a href=mailto:hello@victoria.dev>email</a> - <a href=https://github.com/victoriadrake>github</a> - <a href=https://twitter.com/victoriadotdev>twitter</a> - <a href=https://www.linkedin.com/in/victoriadotdev/>linkedin</a></p></div></footer></div></section><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-98623582-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script>scrollTo=(element)=>{window.scroll({behavior:'smooth',left:0,top:element.offsetTop});}
document.getElementById("up").addEventListener('click',()=>{scrollTo(document.getElementById("main"));});</script></body></html>