<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Victoria Drake, Director of Engineering, is building better cybersecurity and happy and productive technical teams."><title>An automatic interactive pre-commit checklist, in the style of infomercials | victoria.dev</title><link href=https://github.com/victoriadrake rel=me><link rel=authorization_endpoint href=https://indieauth.com/auth><link rel=token_endpoint href=https://tokens.indieauth.com/token><link rel=webmention href=https://webmention.io/victoria.dev/webmention><link rel=pingback href=https://webmention.io/victoria.dev/xmlrpc><link rel=feed href=https://victoria.dev/neofeed><script async defer data-domain=victoria.dev src=https://p.victoria.dev/js/index.js></script><meta name=monetization content="$ilp.uphold.com/pBRfRwg2EJAe"><meta property="og:title" content="An automatic interactive pre-commit checklist, in the style of infomercials - victoria.dev"><meta property="og:type" content="website"><meta property="og:description" content="How to set up an interactive checklist using a Git pre-commit hook script."><meta property="og:url" content="https://victoria.dev/blog/an-automatic-interactive-pre-commit-checklist-in-the-style-of-infomercials/"><meta property="og:site_name" content="victoria.dev"><meta property="og:image" content="https://victoria.dev/blog/an-automatic-interactive-pre-commit-checklist-in-the-style-of-infomercials/precommit-infomercial.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="An automatic interactive pre-commit checklist, in the style of infomercials"><meta name=twitter:image content="https://victoria.dev/blog/an-automatic-interactive-pre-commit-checklist-in-the-style-of-infomercials/precommit-infomercial.png"><meta name=twitter:description content="How to set up an interactive checklist using a Git pre-commit hook script."><link rel="shortcut icon" href=/img/favicon.ico><link rel=stylesheet href=/css/main.min.71bda43b94faa51c2d4670e14068d356b86bf875213c6fc5e9a199ab2a57d1de.css integrity="sha256-cb2kO5T6pRwtRnDhQGjTVrhr+HUhPG/F6aGZqypX0d4=" media=screen></head><body><header role=banner><nav aria-label="Victoria.dev main menu" id=menu><ul role=menubar><li role=none class=menu-item><a role=menuitem href=/><img src=/img/bookmark.svg alt="home page icon" height=18px class=filter-icon> hi</a></li><li role=none class=menu-item><a role=menuitem href=/blog/><img src=/img/quote.svg alt="blog icon" height=18px class=filter-icon> blog</a></li><li role=none class=menu-item><a role=menuitem href=/about/><img src=/img/profile.svg alt="about page icon" height=18px class=filter-icon> about</a></li><li role=none class=menu-item><a role=menuitem href=/coffee/><img src=/img/coffee.svg alt="coffee icon" height=18px class=filter-icon> buy me coffee</a></li><li role=none class=menu-item><a role=menuitem href=/bookshelf/><img src=/img/book.svg alt="bookshelf icon" height=18px class=filter-icon> bookshelf</a></li><li role=none class=menu-item><a role=menuitem id=rss href=https://victoria.dev/index.xml rel=alternate type=application/rss+xml title="RSS for An automatic interactive pre-commit checklist, in the style of infomercials"><img src=/img/rss.svg alt="RSS icon" height=18px class=filter-icon> rss</a></li></ul></nav></header><main aria-role=main><div class=container><article class=h-entry><h1 class=title-header>An automatic interactive pre-commit checklist, in the style of infomercials</h1><p class=subtitle>How to set up an interactive checklist using a Git pre-commit hook script.</p><span><a class="tag button" href=/tags/git/>git
</a>&nbsp;
<a class="tag button" href=/tags/coding/>coding
</a>&nbsp;
<a class="tag button" href=/tags/terminal/>terminal
</a>&nbsp;</span><p class=metadata id=date><time><a class="u-url dt-published" href=https://victoria.dev/blog/an-automatic-interactive-pre-commit-checklist-in-the-style-of-infomercials/>July 23, 2018</a></time>
<span class=dt-updated>&nbsp;
<em>Updated: Mar 5, 2021</em></span>
<span>☕️&nbsp;3 min read</span></p></p><div class=page-separator><hr></div><div class="markdown e-content"><p>What&rsquo;s that, you say? You&rsquo;ve become tired of regular old boring <em>paper checklists?</em> Well, my friend, today is your lucky day! You, yes, <em>you,</em> can become the proud owner of a brand-spanking-new <em>automatic interactive pre-commit hook checklist!</em> You&rsquo;re gonna love this! Your life will be so much easier! Just wait until your friends see you.</p><h2 id=whats-a-pre-commit-hook class=anchor-link><a href=https://victoria.dev/blog/an-automatic-interactive-pre-commit-checklist-in-the-style-of-infomercials/#whats-a-pre-commit-hook>What&rsquo;s a pre-commit hook</a></h2><p>Did you know that nearly <em>1 out of 5 coders</em> are too embarrassed to ask this question? Don&rsquo;t worry, it&rsquo;s perfectly normal. In the next 60 seconds we&rsquo;ll tell you all you need to know to pre-commit with confidence.</p><p>A <a href=https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks>Git hook</a> is a feature of Git that triggers custom scripts at useful moments. They can be used for all kinds of reasons to help you automate your work, and best of all, you already have them! In every repository that you initialize with <code>git init</code>, you&rsquo;ll have a set of example scripts living in <code>.git/hooks</code>. They all end with <code>.sample</code> and activating them is as easy as renaming the file to remove the <code>.sample</code> part.</p><p>Git hooks are not copied when a repository is cloned, so you can make them as personal as you like.</p><p>The useful moment in particular that we&rsquo;ll talk about today is the <em>pre-commit</em>. This hook is run after you do <code>git commit</code>, and before you write a commit message. Exiting this hook with a non-zero status will abort the commit, which makes it extremely useful for last-minute quality checks. Or, a bit of fun. Why not both!</p><h2 id=how-do-i-get-a-pre-commit-checklist class=anchor-link><a href=https://victoria.dev/blog/an-automatic-interactive-pre-commit-checklist-in-the-style-of-infomercials/#how-do-i-get-a-pre-commit-checklist>How do I get a pre-commit checklist</a></h2><p>I only want the best for my family and my commits, and that&rsquo;s why I choose an interactive pre-commit checklist. Not only is it fun to use, it helps to keep my projects safe from unexpected off-spec mistakes!</p><p>It&rsquo;s so easy! I just write a bash script that can read user input, and plop it into <code>.git/hooks</code> as a file named <code>pre-commit</code>. Then I do <code>chmod +x .git/hooks/pre-commit</code> to make it executable, and I&rsquo;m done!</p><p>Oh look, here comes an example bash script now!</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh><span class=cp>#!/bin/sh
</span><span class=cp></span>
<span class=nb>echo</span> <span class=s2>&#34;Would you like to play a game?&#34;</span>

<span class=c1># Read user input, assign stdin to keyboard</span>
<span class=nb>exec</span> &lt; /dev/tty

<span class=k>while</span> <span class=nb>read</span> -p <span class=s2>&#34;Have you double checked that only relevant files were added? (Y/n) &#34;</span> yn<span class=p>;</span> <span class=k>do</span>
    <span class=k>case</span> <span class=nv>$yn</span> in
        <span class=o>[</span>Yy<span class=o>]</span> <span class=o>)</span> break<span class=p>;;</span>
        <span class=o>[</span>Nn<span class=o>]</span> <span class=o>)</span> <span class=nb>echo</span> <span class=s2>&#34;Please ensure the right files were added!&#34;</span><span class=p>;</span> <span class=nb>exit</span> 1<span class=p>;;</span>
        * <span class=o>)</span> <span class=nb>echo</span> <span class=s2>&#34;Please answer y (yes) or n (no):&#34;</span> <span class=o>&amp;&amp;</span> <span class=k>continue</span><span class=p>;</span>
    <span class=k>esac</span>
<span class=k>done</span>
<span class=k>while</span> <span class=nb>read</span> -p <span class=s2>&#34;Has the documentation been updated? (Y/n) &#34;</span> yn<span class=p>;</span> <span class=k>do</span>
    <span class=k>case</span> <span class=nv>$yn</span> in
        <span class=o>[</span>Yy<span class=o>]</span> <span class=o>)</span> break<span class=p>;;</span>
        <span class=o>[</span>Nn<span class=o>]</span> <span class=o>)</span> <span class=nb>echo</span> <span class=s2>&#34;Please add or update the docs!&#34;</span><span class=p>;</span> <span class=nb>exit</span> 1<span class=p>;;</span>
        * <span class=o>)</span> <span class=nb>echo</span> <span class=s2>&#34;Please answer y (yes) or n (no):&#34;</span> <span class=o>&amp;&amp;</span> <span class=k>continue</span><span class=p>;</span>
    <span class=k>esac</span>
<span class=k>done</span>
<span class=k>while</span> <span class=nb>read</span> -p <span class=s2>&#34;Do you know which issue or PR numbers to reference? (Y/n) &#34;</span> yn<span class=p>;</span> <span class=k>do</span>
    <span class=k>case</span> <span class=nv>$yn</span> in
        <span class=o>[</span>Yy<span class=o>]</span> <span class=o>)</span> break<span class=p>;;</span>
        <span class=o>[</span>Nn<span class=o>]</span> <span class=o>)</span> <span class=nb>echo</span> <span class=s2>&#34;Better go check those tracking numbers!&#34;</span><span class=p>;</span> <span class=nb>exit</span> 1<span class=p>;;</span>
        * <span class=o>)</span> <span class=nb>echo</span> <span class=s2>&#34;Please answer y (yes) or n (no):&#34;</span> <span class=o>&amp;&amp;</span> <span class=k>continue</span><span class=p>;</span>
    <span class=k>esac</span>
<span class=k>done</span>

<span class=nb>exec</span> &lt;<span class=p>&amp;</span>-
</code></pre></div><h2 id=take-my-money class=anchor-link><a href=https://victoria.dev/blog/an-automatic-interactive-pre-commit-checklist-in-the-style-of-infomercials/#take-my-money>Take my money</a></h2><p>Don&rsquo;t delay! Take advantage <em>right now</em> of this generous <em>one-time offer!</em> An interactive pre-commit hook checklist can be yours, today, for the low, low price of&mldr; free? Wait, who wrote this script?</p></div><a class=hidden href=https://brid.gy/publish/twitter></a><a class=hidden href=https://brid.gy/publish/mastodon></a><data class=p-bridgy-omit-link value=false></data></article><div id=up-container><a href=# id=up>&#709;</a></div><div class=page-separator><hr></div><div id=webmentions></div><div class=related><code class=language-sql data-lang=sql>SELECT TOP 3 * FROM Related;</code><ul role=menubar id=article-list><li role=none class=h-entry><p class="p-author h-card hidden">Victoria Drake</p><img class="u-photo hidden" alt="photo of the author" id=author-img src=/img/victoria_headshot.jpg>
<a role=menuitem class="article-link u-url p-name" href=https://victoria.dev/blog/git-commit-practices-your-future-self-will-thank-you-for/>Git commit practices your future self will thank you for</a><p class=e-content>Learn how to easily create a clean and readable Git commit history with git squash, message templates, git stash, and tags.</p><p class=metadata><a class="tag button" href=/tags/git/>git</a>
☕️ ☕️ ☕️
&nbsp;15 min read
<time class="hidden dt-published">2018-08-06 08:54:56 -0400 -0400</time></p></li><li role=none class=h-entry><p class="p-author h-card hidden">Victoria Drake</p><img class="u-photo hidden" alt="photo of the author" id=author-img src=/img/victoria_headshot.jpg>
<a role=menuitem class="article-link u-url p-name" href=https://victoria.dev/blog/look-mom-im-a-github-action-hero/>Look mom, I'm a GitHub Action Hero</a><p class=e-content>The GitHub blog interviews me for their GitHub Action Hero series.</p><p class=metadata><a class="tag button" href=/tags/ci/cd/>ci/cd</a>
☕️
&nbsp;5 min read
<time class="hidden dt-published">2020-06-27 09:06:33 -0400 -0400</time></p></li><li role=none class=h-entry><p class="p-author h-card hidden">Victoria Drake</p><img class="u-photo hidden" alt="photo of the author" id=author-img src=/img/victoria_headshot.jpg>
<a role=menuitem class="article-link u-url p-name" href=https://victoria.dev/blog/how-to-do-twice-as-much-with-half-the-keystrokes-using-.bashrc/>How to do twice as much with half the keystrokes using `.bashrc`</a><p class=e-content>An overview of time-saving aliases, functions, and creating a useful Bash prompt.</p><p class=metadata><a class="tag button" href=/tags/linux/>linux</a>
☕️ ☕️
&nbsp;7 min read
<time class="hidden dt-published">2019-08-21 09:17:02 -0400 -0400</time></p></li></ul><div class=page-separator><p class=back-link><a href=/blog>&lt;&lt; Back to blog</a></p></div></div></div><footer class=container><div class="markdown bio h-card p-author"><strong><a href=https://victoria.dev/ class="u-url p-name">Victoria Drake</a></strong><figure class="profile title-avatar u-photo"><img src=/img/victoria_headshot.jpg alt="Victoria's headshot"></figure><p>Victoria Drake is a Director of Engineering in Washington, DC. She is a core maintainer and co-author for the Open Web Application Security Project (OWASP) Web Security Testing Guide. She earned the annual Top Contributor award three years in a row from the freeCodeCamp non-profit, and is a recognized Distinguished Author on the DEV.to developer platform. She writes about software development, cybersecurity, and building happy and productive technical teams.</p><p><a href=/about>about</a> - <a href=mailto:hello@victoria.dev>email</a> - <a href=https://github.com/victoriadrake>github</a> - <a href=https://twitter.com/victoriadotdev>twitter</a> - <a href=https://www.linkedin.com/in/victoriadotdev/>linkedin</a></p></div></footer></main><script src=/js/webmention.min.js data-wordcount=42 async></script><nav aria-label="Victoria.dev menu for mobile" id=menu-mobile><ul role=menubar><li role=none class=menu-item><a role=menuitem href=/><img src=/img/bookmark.svg alt="home page icon" height=18px class=filter-icon></a></li><li role=none class=menu-item><a role=menuitem href=/blog/><img src=/img/quote.svg alt="blog icon" height=18px class=filter-icon></a></li><li role=none class=menu-item><a role=menuitem href=/about/><img src=/img/profile.svg alt="about page icon" height=18px class=filter-icon></a></li><li role=none class=menu-item><a role=menuitem href=/coffee/><img src=/img/coffee.svg alt="coffee icon" height=18px class=filter-icon></a></li><li role=none class=menu-item><a role=menuitem href=/bookshelf/><img src=/img/book.svg alt="bookshelf icon" height=18px class=filter-icon></a></li></ul></nav></body></html>