<!doctype html><html lang=en-us><head><head><meta charset=utf-8><meta name=mobile-web-app-capable content="yes"><meta name=viewport content="width=device-width,initial-scale=1"><title>victoria.dev</title><meta name=monetization content="$ilp.uphold.com/pBRfRwg2EJAe"><link rel="shortcut icon" href=https://victoria.dev/favicon.ico><link rel=icon type=image/png href=https://victoria.dev/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://victoria.dev/favicon-16x16.png sizes=16x16><link rel=authorization_endpoint href=https://indieauth.com/auth><link rel=token_endpoint href=https://tokens.indieauth.com/token><link rel=me href=https://github.com/victoriadrake><link rel=me href=https://twitter.com/victoriadotdev><link rel=me href=https://mastodon.technology/@victoria><link rel=stylesheet href=https://victoria.dev/css/style.css crossorigin=anonymous media=screen><link rel=webmention href=https://webmention.io/victoria.dev/webmention><link rel=pingback href=https://webmention.io/victoria.dev/xmlrpc><meta property="og:url" content="https://victoria.dev/"><meta property="og:title" content="victoria.dev"><meta property="og:site_name" content="victoria.dev"><meta property="og:type" content="website"><meta name=twitter:title content="victoria.dev"></head></head><body><header role=banner><nav aria-label="Victoria.dev main menu" id=menu><ul role=menubar><li role=none class=menu-item><a role=menuitem href=/><img src=/icon/bookmark.svg alt="home page icon" height=18px class=filter-icon>&nbsp;hello</a></li><li role=none class=menu-item><a role=menuitem href=/blog/><img src=/icon/quote.svg alt="blog icon" height=18px class=filter-icon>&nbsp;blog</a></li><li role=none class=menu-item><a role=menuitem href=/about/><img src=/icon/profile.svg alt="about page icon" height=18px class=filter-icon>&nbsp;about</a></li><li role=none class=menu-item><a role=menuitem href=/bookshelf/><img src=/icon/book.svg alt="bookshelf icon" height=18px class=filter-icon>&nbsp;bookshelf</a></li></ul></nav></header><main aria-role=main><div class=container><article class=h-entry><h1 class="p-name title-header">Iteration in Python: for, list, and map</h1><p class=subtitle>The basics of writing iterations in Python using for loops, list comprehensions, and map.</p><span><a class="p-category tag button" href=/tags/python/>python
</a>&nbsp;
<a class="p-category tag button" href=/tags/coding/>coding
</a>&nbsp;</span>
<span rel=author class="p-author h-card"><img class="u-photo hidden" src=/img/victoria_headshot.jpg>
<span class="p-name hidden" rel=me>Victoria Drake</span><p class=metadata id=date><time class="hidden dt-published">2017-01-18 21:58:28 +0700 +0700</time>
<a class=u-url href=https://victoria.dev/blog/iteration-in-python-for-list-and-map/>January 18, 2017</a>
<span class=dt-updated>&nbsp;<em>Updated: Nov 22, 2020</em></span>
<span>&nbsp;4 min read</span></p></span></p><div class=page-separator><hr></div><div class="markdown e-content"><p>Iteration in Python can be a little hard to understand. Subtle differences in terminology like <em>iteration</em>, <em>iterator</em>, <em>iterating</em>, and <em>iterable</em> aren&rsquo;t the most beginner-friendly.</p><p>When tackling new concepts, I find concrete examples to be most useful. I&rsquo;ll share some in this post and discuss appropriate situations for each. (Pun intended.)</p><h2 id=for-loop>For loop</h2><p>First, in pseudocode:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>for</span> <span class=n>iterating_variable</span> <span class=ow>in</span> <span class=n>iterable</span><span class=p>:</span>
    <span class=n>statement</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</code></pre></div><p>I find <code>for</code> loops to be the most readable way to iterate in Python. This is especially nice when you&rsquo;re writing code that someone else needs to read and understand, which is always.</p><p>An <code>iterating_variable</code>, loosely speaking, is anything you could put in a group. For example: a letter in a string, an item from a list, or an integer in a range of integers.</p><p>An <code>iterable</code> houses the things you iterate on. This can also take different forms: a string with multiple characters, a range of numbers, a list, and so on.</p><p>A <code>statement</code> or multiple <code>statements</code> indicates <em>doing something</em> to the iterating variable. This could be anything from mathematical expressions to simply printing a result.</p><p>Here are a couple simple examples that print each <code>iterating_variable</code> of an <code>iterable</code>:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>for</span> <span class=n>letter</span> <span class=ow>in</span> <span class=s2>&#34;Hello world&#34;</span><span class=p>:</span>
    <span class=k>print</span><span class=p>(</span><span class=n>letter</span><span class=p>)</span>

<span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>):</span>
    <span class=k>print</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>

<span class=n>breakfast_menu</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;toast&#34;</span><span class=p>,</span> <span class=s2>&#34;eggs&#34;</span><span class=p>,</span> <span class=s2>&#34;waffles&#34;</span><span class=p>,</span> <span class=s2>&#34;coffee&#34;</span><span class=p>]</span>
<span class=k>for</span> <span class=n>choice</span> <span class=ow>in</span> <span class=n>breakfast_menu</span><span class=p>:</span>
    <span class=k>print</span><span class=p>(</span><span class=n>choice</span><span class=p>)</span>
</code></pre></div><p>You can even use a <code>for</code> loop in a more compact situation, such as this one-liner:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>breakfast_buffet</span> <span class=o>=</span> <span class=s2>&#34; &#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>item</span><span class=p>)</span> <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>breakfast_menu</span><span class=p>)</span>
</code></pre></div><p>The downside to <code>for</code> loops is that they can be a bit verbose, depending on how much you&rsquo;re trying to achieve. Still, for anyone hoping to make their Python code as easily understood as possible, <code>for</code> loops are the most straightforward choice.</p><h2 id=list-comprehensions>List comprehensions</h2><p>A pseudocode example:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>new_list</span> <span class=o>=</span> <span class=p>[</span><span class=n>statement</span><span class=p>(</span><span class=n>s</span><span class=p>)</span> <span class=k>for</span> <span class=n>iterating_variable</span> <span class=ow>in</span> <span class=n>iterable</span><span class=p>]</span>
</code></pre></div><p>List comprehensions are a concise and elegant way to create a new list by iterating on variables. Once you have a grasp of how they work, you can perform efficient iterations with very little code.</p><p>List comprehensions will always return a list, which may or may not be appropriate for your situation.</p><p>For example, you could use a list comprehension to quickly calculate and print tip percentage on a few bar tabs at once:</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh><span class=nv>tabs</span> <span class=o>=</span> <span class=o>[</span>23.60, 42.10, 17.50<span class=o>]</span>
<span class=nv>tabs_incl_tip</span> <span class=o>=</span> <span class=o>[</span>round<span class=o>(</span>tab*1.15, 2<span class=o>)</span> <span class=k>for</span> tab in tabs<span class=o>]</span>
print<span class=o>(</span>tabs_incl_tip<span class=o>)</span>

&gt;&gt;&gt; <span class=o>[</span>27.14, 48.41, 20.12<span class=o>]</span>
</code></pre></div><p>In one concise line, we&rsquo;ve taken each tab amount, added a 15% tip, rounded it to the nearest cent, and made a new list of the tabs plus the tip values.</p><p>List comprehensions can be an elegant tool if output to a list is useful to you. Be advised that the more statements you add, the more complicated your list comprehension begins to look, especially once you get into nested list comprehensions. If your code isn&rsquo;t well annotated, it may become difficult for another reader to figure out.</p><h2 id=map>Map</h2><p>How to <code>map</code>, in pseudocode:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=nb>map</span><span class=p>(</span><span class=n>statement</span><span class=p>,</span> <span class=n>iterable</span><span class=p>)</span>
</code></pre></div><p>Map is pretty compact, for better or worse. It can be harder to read and understand, especially if your line of code has a lot of parentheses.</p><p>In terms of efficiency for character count, <code>map</code> is hard to beat. It applies your <code>statement</code> to every instance of your <code>iterable</code> and returns an iterator.</p><p>Here&rsquo;s an example casting each element of <code>input()</code> (the iterable) from string representation to integer representation. Since <code>map</code> returns an iterator, you also cast the result to a list representation.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>values</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=nb>input</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>()))</span>
<span class=n>weights</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>int</span><span class=p>,</span> <span class=nb>input</span><span class=p>()</span><span class=o>.</span><span class=n>split</span><span class=p>()))</span>
</code></pre></div><p>It&rsquo;s worth noting that you can also use <code>for</code> loops, list comprehension, and <code>map</code> all together:</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=n>output</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>([</span><span class=n>x</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=n>x</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>values</span><span class=p>,</span> <span class=n>weights</span><span class=p>)])</span> <span class=o>/</span> <span class=nb>sum</span><span class=p>(</span><span class=n>weights</span><span class=p>)</span>

<span class=k>print</span><span class=p>(</span><span class=nb>round</span><span class=p>(</span><span class=n>output</span><span class=p>,</span> <span class=mi>1</span><span class=p>))</span>
</code></pre></div><h2 id=your-iteration-toolbox>Your iteration toolbox</h2><p>Each of these methods of iteration in Python have a special place in the code I write every day. I hope these examples have helped you see how to use <code>for</code> loops, list comprehensions, and <code>map</code> in your own Python code!</p><p>If you like this post, there&rsquo;s a lot more where that came from! I write about efficient programming for coders and for leading technical teams. Check out the posts below!</p></div><a class=hidden href=https://brid.gy/publish/twitter></a><a class=hidden href=https://brid.gy/publish/mastodon></a><data class=p-bridgy-omit-link value=false></data></article><div id=up-container><a href=# id=up>v</a></div><hr><div id=webmentions></div><div class=related><code class=language-sql data-lang=sql>SELECT TOP 3 * FROM Related;</code><ul role=menubar id=article-list><li role=none class=h-entry><a rel=author class="p-author h-card hidden" href=https://victoria.dev/>Victoria Drake</a>
<a role=menuitem class="article-link u-url p-name" href=https://victoria.dev/blog/do-i-raise-or-return-errors-in-python/>Do I raise or return errors in Python?</a><p class="p-summary e-content">Raise, return, and how to never fail silently in Python.</p><p class=metadata><a class="p-category tag button" href=https://victoria.dev/tags/python/>python</a>
&nbsp;4 min read
<time class="hidden dt-published">2021-02-09 05:34:48 -0500 -0500</time></p></li><li role=none class=h-entry><a rel=author class="p-author h-card hidden" href=https://victoria.dev/>Victoria Drake</a>
<a role=menuitem class="article-link u-url p-name" href=https://victoria.dev/blog/increase-developer-confidence-with-a-great-django-test-suite/>Increase developer confidence with a great Django test suite</a><p class="p-summary e-content">How to write tests for your Django applications that boost your team, and are actually useful.</p><p class=metadata><a class="p-category tag button" href=https://victoria.dev/tags/coding/>coding</a>
&nbsp;5 min read
<time class="hidden dt-published">2020-10-01 05:50:37 -0400 -0400</time></p></li><li role=none class=h-entry><a rel=author class="p-author h-card hidden" href=https://victoria.dev/>Victoria Drake</a>
<a role=menuitem class="article-link u-url p-name" href=https://victoria.dev/blog/django-project-best-practices-to-keep-your-developers-happy/>Django project best practices to keep your developers happy</a><p class="p-summary e-content">Using Makefiles, pre-commit, and GitHub Actions to help create a happy development team.</p><p class=metadata><a class="p-category tag button" href=https://victoria.dev/tags/python/>python</a>
&nbsp;6 min read
<time class="hidden dt-published">2020-09-22 04:55:19 -0400 -0400</time></p></li></ul><div class=page-separator><p class=back-link><a href=/blog>&lt;&lt; Back to blog</a></p></div></div></div><footer class=container><div class="h-card row bio" rel=author><div class=markdown id=card><figure class=profile><img class=u-photo alt="Victoria Drake" src=/img/victoria_headshot.jpg></figure><h1 class=p-name>Victoria Drake</h1></address><p class=p-note><p>Victoria Drake is a Director of Engineering in Washington, DC. She is a core maintainer and co-author for the Open Web Application Security Project (OWASP) Web Security Testing Guide. She earned the annual Top Contributor award three years in a row from the freeCodeCamp non-profit, and was recognized two years in a row as a Distinguished Author on the DEV.to developer platform. She writes and educates programmers and business leaders about cybersecurity, software development, and building happy and productive technical teams.</p><p><a href=/about>about</a> - <a href=/about/#write-me>contact</a> - <a href=https://github.com/victoriadrake>github</a> - <a href=https://twitter.com/victoriadotdev>twitter</a> - <a href=https://www.linkedin.com/in/victoriadotdev/>linkedin</a></p></p></div></div></footer></main><nav aria-label="Victoria.dev menu for mobile" id=menu-mobile><ul role=menubar><li role=none class=menu-item><a role=menuitem href=/><img src=/icon/bookmark.svg alt="home page icon" height=18px class=filter-icon></a></li><li role=none class=menu-item><a role=menuitem href=/blog/><img src=/icon/quote.svg alt="blog icon" height=18px class=filter-icon></a></li><li role=none class=menu-item><a role=menuitem href=/about/><img src=/icon/profile.svg alt="about page icon" height=18px class=filter-icon></a></li><li role=none class=menu-item><a role=menuitem href=/bookshelf/><img src=/icon/book.svg alt="bookshelf icon" height=18px class=filter-icon></a></li></ul></nav><script src=/js/webmention.min.js data-wordcount=100 async></script></body></html>